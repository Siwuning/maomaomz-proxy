{"id":4,"showLabel":false,"label":"Roll","title":"","message":"/if left={{lastMessageId}} right=0 rule=neq\n{:\n\t/if left={:/match pattern=\"/<\\/content>.*<\\/tableEdit>/s\" {{lastCharMessage}}:}() rule=not else={:/setglobalvar key=retry_delay 1000:}\n\t{:\n\t\t/let isRetry false ||\n\t\t/if left={{lastSwipeId}} right=1 rule=eq else=\"/delswipe\" {:/del 1 || /var isRetry true:} ||\n\t\t/echo 收到不完整回复，已删除 ||\n\t\t/if left=isRetry right=true rule=eq\n\t\t{:\n\t\t\t/wait {{getglobalvar::retry_delay}} ||\n\t\t\t/trigger ||\n\t\t\t/echo 正在生成新回复 ||\n\t\t\t/if left=retry_delay right=16000 rule=eq {:/setglobalvar key=retry_delay 64000:} ||\n\t\t\t/if left=retry_delay right=4000 rule=eq {:/setglobalvar key=retry_delay 16000:} ||\n\t\t\t/if left=retry_delay right=1000 rule=eq {:/setglobalvar key=retry_delay 4000:} ||\n\t\t:}\n\t:}\n:}","contextList":[],"preventAutoExecute":true,"isHidden":false,"executeOnStartup":false,"executeOnUser":false,"executeOnAi":false,"executeOnChatChange":false,"executeOnGroupMemberDraft":false,"executeOnNewChat":false,"executeBeforeGeneration":false,"automationId":""}