<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>角色创建系统 - Character Creator</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  </head>
  <body>
    <div class="container">
      <!-- 顶部标题 -->
      <header class="header">
        <h1><i class="fas fa-user-circle"></i> 角色创建系统</h1>
        <p class="subtitle">创建属于你的独特角色</p>
      </header>

      <!-- 进度条 -->
      <div class="progress-bar">
        <div class="progress-step active" data-step="1">
          <div class="step-icon"><i class="fas fa-user"></i></div>
          <div class="step-label">基本信息</div>
        </div>
        <div class="progress-step" data-step="2">
          <div class="step-icon"><i class="fas fa-palette"></i></div>
          <div class="step-label">外貌特征</div>
        </div>
        <div class="progress-step" data-step="3">
          <div class="step-icon"><i class="fas fa-heart"></i></div>
          <div class="step-label">性格特点</div>
        </div>
        <div class="progress-step" data-step="4">
          <div class="step-icon"><i class="fas fa-book"></i></div>
          <div class="step-label">背景故事</div>
        </div>
        <div class="progress-step" data-step="5">
          <div class="step-icon"><i class="fas fa-star"></i></div>
          <div class="step-label">技能能力</div>
        </div>
      </div>

      <!-- 表单容器 -->
      <form id="characterForm" class="character-form">
        <!-- 第一步：基本信息 -->
        <div class="form-section active" data-section="1">
          <h2><i class="fas fa-user"></i> 基本信息</h2>

          <div class="form-group">
            <label for="name">角色名字 <span class="required">*</span></label>
            <input type="text" id="name" name="name" placeholder="输入角色的名字" required />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="age">年龄</label>
              <input type="number" id="age" name="age" placeholder="18" min="0" max="999" />
            </div>

            <div class="form-group">
              <label for="gender">性别</label>
              <select id="gender" name="gender">
                <option value="">请选择</option>
                <option value="male">男性</option>
                <option value="female">女性</option>
                <option value="other">其他</option>
                <option value="unknown">未知</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="race">种族</label>
              <input type="text" id="race" name="race" placeholder="人类 / 精灵 / 自定义" />
            </div>

            <div class="form-group">
              <label for="occupation">职业</label>
              <input type="text" id="occupation" name="occupation" placeholder="战士 / 法师 / 自定义" />
            </div>
          </div>

          <div class="form-group">
            <label for="nickname">称号 / 绰号</label>
            <input type="text" id="nickname" name="nickname" placeholder="例如：星辰之子" />
          </div>

          <div class="form-group">
            <label for="avatar">头像链接</label>
            <input type="url" id="avatar" name="avatar" placeholder="https://example.com/avatar.jpg" />
            <div id="avatarPreview" class="avatar-preview"></div>
          </div>
        </div>

        <!-- 第二步：外貌特征 -->
        <div class="form-section" data-section="2">
          <h2><i class="fas fa-palette"></i> 外貌特征</h2>

          <div class="form-row">
            <div class="form-group">
              <label for="height">身高 (cm)</label>
              <input type="number" id="height" name="height" placeholder="170" min="0" max="300" />
            </div>

            <div class="form-group">
              <label for="weight">体重 (kg)</label>
              <input type="number" id="weight" name="weight" placeholder="60" min="0" max="500" />
            </div>

            <div class="form-group">
              <label for="build">体型</label>
              <select id="build" name="build">
                <option value="">请选择</option>
                <option value="slim">纤瘦</option>
                <option value="average">普通</option>
                <option value="athletic">健壮</option>
                <option value="muscular">肌肉发达</option>
                <option value="overweight">丰满</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="hairColor">发色</label>
              <input type="text" id="hairColor" name="hairColor" placeholder="黑色 / 金色 / 渐变色" />
            </div>

            <div class="form-group">
              <label for="hairStyle">发型</label>
              <input type="text" id="hairStyle" name="hairStyle" placeholder="长发 / 短发 / 马尾" />
            </div>

            <div class="form-group">
              <label for="eyeColor">瞳色</label>
              <input type="text" id="eyeColor" name="eyeColor" placeholder="蓝色 / 金色 / 异色" />
            </div>
          </div>

          <div class="form-group">
            <label for="features">特殊特征</label>
            <textarea
              id="features"
              name="features"
              rows="3"
              placeholder="描述角色的特殊外貌特征，如疤痕、纹身、特殊标记等..."
            ></textarea>
          </div>

          <div class="form-group">
            <label for="clothing">常穿服装</label>
            <textarea id="clothing" name="clothing" rows="3" placeholder="描述角色的常见着装风格..."></textarea>
          </div>
        </div>

        <!-- 第三步：性格特点 -->
        <div class="form-section" data-section="3">
          <h2><i class="fas fa-heart"></i> 性格特点</h2>

          <div class="form-group">
            <label>性格类型</label>
            <div class="tag-selector">
              <label class="tag-option">
                <input type="checkbox" name="personality" value="开朗" />
                <span>开朗</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="内向" />
                <span>内向</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="冷静" />
                <span>冷静</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="热情" />
                <span>热情</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="谨慎" />
                <span>谨慎</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="冲动" />
                <span>冲动</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="温柔" />
                <span>温柔</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="强势" />
                <span>强势</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="神秘" />
                <span>神秘</span>
              </label>
              <label class="tag-option">
                <input type="checkbox" name="personality" value="幽默" />
                <span>幽默</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="personalityDesc">性格描述</label>
            <textarea
              id="personalityDesc"
              name="personalityDesc"
              rows="4"
              placeholder="详细描述角色的性格特点、行为习惯、说话方式等..."
            ></textarea>
          </div>

          <div class="form-group">
            <label for="likes">喜好</label>
            <textarea id="likes" name="likes" rows="3" placeholder="角色喜欢的事物，如美食、音乐、运动等..."></textarea>
          </div>

          <div class="form-group">
            <label for="dislikes">厌恶</label>
            <textarea id="dislikes" name="dislikes" rows="3" placeholder="角色讨厌的事物..."></textarea>
          </div>

          <div class="form-group">
            <label for="fears">恐惧</label>
            <textarea id="fears" name="fears" rows="3" placeholder="角色害怕的事物或情境..."></textarea>
          </div>
        </div>

        <!-- 第四步：背景故事 -->
        <div class="form-section" data-section="4">
          <h2><i class="fas fa-book"></i> 背景故事</h2>

          <div class="form-group">
            <label for="birthplace">出生地</label>
            <input type="text" id="birthplace" name="birthplace" placeholder="王国名 / 城市名" />
          </div>

          <div class="form-group">
            <label for="family">家庭背景</label>
            <textarea id="family" name="family" rows="4" placeholder="描述角色的家庭成员、家族背景等..."></textarea>
          </div>

          <div class="form-group">
            <label for="backstory">成长经历</label>
            <textarea
              id="backstory"
              name="backstory"
              rows="6"
              placeholder="描述角色的过去，重要的人生经历，塑造其性格的关键事件..."
            ></textarea>
          </div>

          <div class="form-group">
            <label for="motivation">行动动机</label>
            <textarea
              id="motivation"
              name="motivation"
              rows="4"
              placeholder="角色的目标、梦想、追求的东西..."
            ></textarea>
          </div>

          <div class="form-group">
            <label for="secrets">秘密</label>
            <textarea id="secrets" name="secrets" rows="3" placeholder="角色不为人知的秘密..."></textarea>
          </div>
        </div>

        <!-- 第五步：技能能力 -->
        <div class="form-section" data-section="5">
          <h2><i class="fas fa-star"></i> 技能与能力</h2>

          <div class="form-group">
            <label>属性值</label>
            <div class="stats-grid">
              <div class="stat-item">
                <label for="strength">力量</label>
                <input type="range" id="strength" name="strength" min="0" max="100" value="50" />
                <span class="stat-value">50</span>
              </div>
              <div class="stat-item">
                <label for="agility">敏捷</label>
                <input type="range" id="agility" name="agility" min="0" max="100" value="50" />
                <span class="stat-value">50</span>
              </div>
              <div class="stat-item">
                <label for="intelligence">智力</label>
                <input type="range" id="intelligence" name="intelligence" min="0" max="100" value="50" />
                <span class="stat-value">50</span>
              </div>
              <div class="stat-item">
                <label for="charisma">魅力</label>
                <input type="range" id="charisma" name="charisma" min="0" max="100" value="50" />
                <span class="stat-value">50</span>
              </div>
              <div class="stat-item">
                <label for="luck">幸运</label>
                <input type="range" id="luck" name="luck" min="0" max="100" value="50" />
                <span class="stat-value">50</span>
              </div>
              <div class="stat-item">
                <label for="willpower">意志</label>
                <input type="range" id="willpower" name="willpower" min="0" max="100" value="50" />
                <span class="stat-value">50</span>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>技能列表</label>
            <div id="skillsList" class="skills-list">
              <div class="skill-item">
                <input type="text" placeholder="技能名称" name="skillName[]" />
                <input type="number" placeholder="等级 (1-10)" name="skillLevel[]" min="1" max="10" />
                <button type="button" class="btn-remove" onclick="removeSkill(this)">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
            <button type="button" class="btn-add" onclick="addSkill()"><i class="fas fa-plus"></i> 添加技能</button>
          </div>

          <div class="form-group">
            <label for="specialAbility">特殊能力</label>
            <textarea
              id="specialAbility"
              name="specialAbility"
              rows="4"
              placeholder="描述角色的特殊能力、魔法、超能力等..."
            ></textarea>
          </div>

          <div class="form-group">
            <label for="weaknesses">弱点</label>
            <textarea id="weaknesses" name="weaknesses" rows="3" placeholder="角色的弱点、限制..."></textarea>
          </div>
        </div>

        <!-- 导航按钮 -->
        <div class="form-navigation">
          <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)">
            <i class="fas fa-arrow-left"></i> 上一步
          </button>
          <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeStep(1)">
            下一步 <i class="fas fa-arrow-right"></i>
          </button>
          <button
            type="button"
            class="btn btn-success"
            id="submitBtn"
            onclick="generateCharacter()"
            style="display: none"
          >
            <i class="fas fa-check"></i> 生成角色卡
          </button>
        </div>
      </form>

      <!-- 预览和导出区域 -->
      <div id="resultSection" class="result-section" style="display: none">
        <h2><i class="fas fa-file-export"></i> 角色卡预览</h2>
        <div class="result-actions">
          <button class="btn btn-primary" onclick="copyToClipboard()"><i class="fas fa-copy"></i> 复制 JSON</button>
          <button class="btn btn-success" onclick="downloadJSON()"><i class="fas fa-download"></i> 下载 JSON</button>
          <button class="btn btn-info" onclick="downloadYAML()"><i class="fas fa-download"></i> 下载 YAML</button>
          <button class="btn btn-secondary" onclick="resetForm()"><i class="fas fa-redo"></i> 重新创建</button>
        </div>
        <pre id="resultOutput" class="result-output"></pre>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
